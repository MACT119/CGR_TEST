<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simulador CGR (Offline)</title>
  <meta name="description" content="Simulador de pr√°ctica (no oficial) para preparaci√≥n de pruebas de ingreso y m√©ritos. Funciona sin servidor." />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="app-header">
    <div class="brand">
      <div class="logo" aria-hidden="true">üß†</div>
      <div>
        <div class="title">Simulador CGR (Offline)</div>
        <div class="subtitle">Pr√°ctica no oficial ‚Ä¢ sin servidor ‚Ä¢ funciona en el navegador</div>
      </div>
    </div>
    <div class="header-actions">
      <button id="btnReset" class="btn btn-ghost" type="button" title="Borrar progreso">Reiniciar</button>
      <button id="btnExport" class="btn btn-ghost" type="button" title="Exportar progreso">Exportar</button>
    </div>
  </header>

  <main class="container">
    <section class="card notice" role="note">
      <div class="notice-title">Importante</div>
      <p>
        Este simulador es <strong>solo para estudio</strong>. <strong>No</strong> contiene preguntas oficiales del concurso.
        Las pruebas oficiales tienen reglas de <em>reserva</em> y no deben transcribirse ni reproducirse.
      </p>
      <details>
        <summary>C√≥mo usar (modo sin servidor)</summary>
        <ol>
          <li>Abre <code>index.html</code> desde tu celular (Chrome/Edge/Safari).</li>
          <li>El simulador trae un banco de preguntas <em>de ejemplo</em> para probar la app.</li>
          <li>Cuando quieras, reemplaza el banco importando un archivo <code>questions.json</code> propio.</li>
        </ol>
      </details>
    </section>

    <section class="card">
      <div class="grid">
        <div>
          <h2>Configurar simulacro</h2>
          <div class="field">
            <label for="selMode">Modo</label>
            <select id="selMode">
              <option value="practice">Entrenamiento (feedback por pregunta)</option>
              <option value="mock">Simulacro (resultado al final)</option>
            </select>
          </div>
          <div class="field">
            <label for="selAxis">Eje / M√≥dulo</label>
            <select id="selAxis"></select>
          </div>
          <div class="field">
            <label for="numCount">Cantidad de preguntas</label>
            <input id="numCount" type="number" min="5" max="100" step="1" value="10" />
            <div class="help">El sistema tomar√° preguntas aleatorias del eje seleccionado.</div>
          </div>
          <div class="field">
            <label for="chkTimer">Cron√≥metro</label>
            <div class="row">
              <input id="chkTimer" type="checkbox" />
              <span>Activar tiempo (minutos):</span>
              <input id="numMinutes" type="number" min="1" max="240" value="15" />
            </div>
          </div>
          <div class="row">
            <button id="btnStart" class="btn btn-primary" type="button">Iniciar</button>
            <label class="file">
              <input id="fileImport" type="file" accept="application/json" />
              <span class="btn">Importar preguntas (JSON)</span>
            </label>
          </div>
          <div class="small muted" id="bankInfo"></div>
        </div>

        <div>
          <h2>Progreso</h2>
          <div class="stats" id="statsBox"></div>
          <div class="divider"></div>
          <h3>Historial reciente</h3>
          <div id="historyBox" class="history"></div>
        </div>
      </div>
    </section>

    <section class="card hidden" id="quizCard" aria-live="polite">
      <div class="quiz-top">
        <div>
          <div class="pill" id="pillAxis"></div>
          <h2 id="qTitle">Pregunta</h2>
          <div class="muted" id="qMeta"></div>
        </div>
        <div class="timer">
          <div class="timer-label">Tiempo</div>
          <div class="timer-value" id="timerValue">‚Äî</div>
        </div>
      </div>

      <!-- Escenario (opcional): algunos bancos traen un escenario largo compartido por varias preguntas -->
      <details class="scenario hidden" id="scenarioDetails">
        <summary>
          <span class="scenario-label">Escenario</span>
          <span class="scenario-title" id="scenarioTitle"></span>
        </summary>
        <div class="scenario-text" id="scenarioText"></div>
      </details>

      <div class="stem" id="qStem"></div>
      <div class="question" id="qText"></div>

      <form id="choicesForm" class="choices"></form>

      <div class="feedback hidden" id="feedbackBox"></div>

      <div class="row space-between">
        <button id="btnPrev" class="btn btn-ghost" type="button">Anterior</button>
        <div class="row">
          <button id="btnFlag" class="btn" type="button" title="Marcar para repasar">Marcar</button>
          <button id="btnNext" class="btn btn-primary" type="button">Siguiente</button>
        </div>
      </div>
    </section>

    <section class="card hidden" id="resultCard">
      <h2>Resultado</h2>
      <div id="resultSummary" class="result"></div>
      <div class="divider"></div>
      <h3>Detalle por eje</h3>
      <div id="resultByAxis" class="result"></div>
      <div class="divider"></div>
      <div class="row">
        <button id="btnReview" class="btn" type="button">Revisar falladas</button>
        <button id="btnHome" class="btn btn-primary" type="button">Volver al inicio</button>
      </div>
    </section>

    <footer class="footer muted">
      <div>MACT ‚Ä¢ Simulador offline (demo). Puedes reemplazar el banco importando un <code>questions.json</code>.</div>
    </footer>
  </main>

  <script src="questions.sample.js"></script>
  <script src="app.js"></script>
</body>
</html>
